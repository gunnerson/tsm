{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Truch Shop Manager</title>

    <link rel="stylesheet" href="{% static 'css/custom.css' %}" />

  </head>

  <body>

    <div id="wrapper">
      <div id="header">
        <div id="header-left">
          <ul>
            <li id="navItem1">
              <a href="{% url 'invent:list_trucks' %}">Trucks</a>
            </li>
            <li id="navItem2">
              <a href="{% url 'invent:list_trailers' %}">Trailers</a>
            </li>
            <li id="navItem3">
              <a href="{% url 'contacts:list_drivers' %}">Drivers</a>
            </li>
            <li id="navItem4">
              <a href="{% url 'contacts:list_companies' %}">Companies</a>
            </li>
          </ul>
        </div>
        <div id="header-right">
          <ul>
            {% if user.is_authenticated %}
              <li>Hello, <a href="{% url 'users:listcolshow' %}">{% if user.first_name %}{{ user.first_name }}{% else %}{{ user }}{% endif %}. &nbsp</a></li>
              <li><a href="{% url 'users:logout' %}">Log out</a></li>
            {% else %}
              <li><a href="{% url 'users:register' %}">Register &nbsp</a></li>
              <li><a href="{% url 'users:login' %}">Log in</a></li>
            {% endif %}
          </ul>
        </div>
      </div>
      <div id="left-content">
        {% block left-menu %}{% endblock left-menu %}
      </div>
      <div id="address-panel">
        {% block page-title %}{% endblock page-title %}
      </div>
      <div id="main-content">
        {% block content %}{% endblock content %}
      </div>
    </div>

    <script>

      function docReady(fn) {
          if (document.readyState === "complete" || document.readyState === "interactive") {
              setTimeout(fn, 1);
          } else {
              document.addEventListener("DOMContentLoaded", fn);
          };
      };

      docReady(function() {
        var section = window.location.toString().replace(/^http?:\/\//, '').split('/')[1];
        if (section == "trucks") {
          document.getElementById("navItem1").classList.add('active');
        } else if (section == "trailers") {
          document.getElementById("navItem2").classList.add('active');
        } else if (section == "drivers") {
          document.getElementById("navItem3").classList.add('active');
        } else if (section == "companies") {
          document.getElementById("navItem4").classList.add('active');
        };
        {% block js %}{% endblock %}
      });

    </script>

    <br>

  </body>

</html>

