{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Logistics Pro Tools</title>

    <link rel="stylesheet" href="{% static 'css/custom.css' %}" />

  </head>

  <body>

    <div id="wrapper">

      <div id="header">
        <div id="header-left">
          <ul>
            {% block header %}{% endblock header %}
          </ul>
        </div>
        <div id="header-right">
          <ul>
            {% if user.is_authenticated %}
              <li>Hello, <a href="{% url 'users:profile' user.profile.id %}">{% if user.first_name %}{{ user.first_name }}{% else %}{{ user }}{% endif %}. &nbsp</a></li>
              <li><a href="{% url 'users:logout' %}">Log out</a></li>
            {% else %}
              <li><a href="{% url 'users:login' %}">Log in</a></li>
            {% endif %}
          </ul>
        </div>
      </div>

      <div id="left-content">
          <ul>
            {% if btn_back %}
              <li>
                <a href="" onClick="window.location.replace(document.referrer);return false;" role="button">Back</a>
              </li>
            {% endif %}
            {% if btn_custom %}
              {% block custom-button %}{% endblock custom-button %}
            {% endif %}
            {% if btn_save and write_check %}
              <li>
                <button type="submit" form="data_form">+ Save changes</a>
              </li>
            {% endif %}
          </ul>
      </div>

      <div id="left-content-hide">
        <button id="left-content-hide-button" class="left-content-hide" type="button"><</button>
        <button id="left-content-show-button" class="left-content-hide" type="button" style="display: none;">></button>
      </div>

      <div id="address-panel">
        <div class="page-title">
          <span>{{ page_title }}</span>
          {% block page_title %}{% endblock page_title %}
        </div>
        <div class="address-line">
          <ol>
              {% block nav_bar_main %}{% endblock nav_bar_main %}
          </ol>
        </div>
      </div>

      <div id="main-content">
        {% block content %}{% endblock content %}
      </div>

    </div>

    <script>

      function docReady(fn) {
          if (document.readyState === "complete" || document.readyState === "interactive") {
              setTimeout(fn, 1);
          } else {
              document.addEventListener("DOMContentLoaded", fn);
          };
      };

      docReady(function() {

        document.getElementById("left-content-hide-button").addEventListener('click', function() {
          document.getElementById("main-content").style.marginLeft = "10px";
          document.getElementById("left-content").style.display = "none";
          document.getElementById("address-panel").style.left = "0px";
          document.getElementById("left-content-hide-button").style.display = "none";
          document.getElementById("left-content-show-button").style.display = "inline-block";
        }, false);

        document.getElementById("left-content-show-button").addEventListener('click', function() {
          document.getElementById("main-content").style.marginLeft = "200px";
          document.getElementById("left-content").style.display = "inline-block";
          document.getElementById("address-panel").style.left = "199px";
          document.getElementById("left-content-show-button").style.display = "none";
          document.getElementById("left-content-hide-button").style.display = "inline-block";
        }, false);

        {% block main_js %}{% endblock main_js %}

      });

    </script>

    <br>

  </body>

</html>

